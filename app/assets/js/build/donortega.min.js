"use strict";console.info("Don Ortega --- BigCommerce");var app=angular.module("bcDonOrtega",["ngAnimate","ngTouch","ui.bootstrap","ui.router"]);app.config(["$stateProvider",function(a){var b={name:"category",url:"",views:{nav:{templateUrl:"views/nav.html"},content:{templateUrl:"views/category.html"}}},c={name:"product",url:"/product/{productId}",views:{nav:{templateUrl:"views/nav.html"},content:{templateUrl:"views/product.html",resolve:{product:function(a,b){console.log("qqq $stateParams:",b,a),a.getList().then(function(a){return console.log("qqq product detail:",a[b.productId]),a[b.productId]})}}}}},d={name:"cart",url:"/cart",views:{nav:{templateUrl:"views/nav.html"},content:{templateUrl:"views/cart.html"}}};a.state(b),a.state(c),a.state(d)}]),app.controller("StoreCtrl",["$scope","products",function(a,b){var c=this;c.cartCount=0,b.getList().then(function(a){c.productList=a})}]),app.service("products",["$http","$q",function(a,b){var c={};return c.getList=function(){var c=b.defer();return sessionStorage.getItem("bigcommerce-productList")||a.get("/assets/json/products.json").then(function(a){sessionStorage.setItem("bigcommerce-productList",JSON.stringify(a.data))},function(a){}),c.resolve(JSON.parse(sessionStorage.getItem("bigcommerce-productList"))),c.promise},c.getItem=function(a){var c=b.defer();return c.promise},c}]);